@model List<InterviewTest.Models.GetGridViewData_Result>
@{
    ViewBag.Title = "Show Data";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>@ViewData["Title"]</h1>


<form class="form-inline" action="/query/showdata">
    <label for="search" class="mr-1">Search:</label>
    <input type="search" class="form-control mr-1" id="search" name="search" placeholder="Search" value="@ViewBag.search">
    <input class="form-check-input" type="checkbox" id="available" name="available"checked="@ViewBag.available" value="true">
    <label class="form-check-label" for="Available">Available</label>
    <input class="form-check-input" type="checkbox" id="notAvailable" name="notAvailable" checked="@ViewBag.notAvailable" value="true">
    <label class="form-check-label" for="notAvailable">Not Available</label>
    <br />
    <button type="submit" class="btn btn-primary">Search</button>

</form>

<table class="table">
    <tr>
        <th style="width:10%">
            @if (ViewBag.iconClass == "fa-sort-desc")
            {
                <a href="/query/showdata?search=@ViewBag.search&sortColumn=PartNumber&iconClass=fa-sort-asc">Part Number</a>
                if (ViewBag.sortColumn == "PartNumber")
                {
                    <i class="fa @ViewBag.iconClass"></i>
                }
            }
            else
            {
                <a href="/query/showdata?search=@ViewBag.search&sortColumn=PartNumber&iconClass=fa-sort-desc">Part Number</a>
                if (ViewBag.sortColumn == "PartNumber")
                {
                    <i class="fa @ViewBag.iconClass"></i>
                }
            }
        </th>
        <th style="width:20%">
            @if (ViewBag.iconClass == "fa-sort-desc")
            {
                <a href="/query/showdata?search=@ViewBag.search&sortColumn=Customer&iconClass=fa-sort-asc">Customer</a>
                if (ViewBag.sortColumn == "Customer")
                {
                    <i class="fa @ViewBag.iconClass"></i>
                }
            }
            else
            {
                <a href="/query/showdata?search=@ViewBag.search&sortColumn=Customer&iconClass=fa-sort-desc">Customer</a>
                if (ViewBag.sortColumn == "Customer")
                {
                    <i class="fa @ViewBag.iconClass"></i>
                }
            }
        </th>
        <th style="width:10%">
            @if (ViewBag.iconClass == "fa-sort-desc")
            {
                <a href="/query/showdata?search=@ViewBag.search&sortColumn=Building&iconClass=fa-sort-asc">Building</a>
                if (ViewBag.sortColumn == "Building")
                {
                    <i class="fa @ViewBag.iconClass"></i>
                }
            }
            else
            {
                <a href="/query/showdata?search=@ViewBag.search&sortColumn=Building&iconClass=fa-sort-desc">Building</a>
                if (ViewBag.sortColumn == "Building")
                {
                    <i class="fa @ViewBag.iconClass"></i>
                }
            }
        </th>
        <th style="width:10%">
            @if (ViewBag.iconClass == "fa-sort-desc")
            {
                <a href="/query/showdata?search=@ViewBag.search&sortColumn=Available&iconClass=fa-sort-asc">Available</a>
                if (ViewBag.sortColumn == "Available")
                {
                    <i class="fa @ViewBag.iconClass"></i>
                }
            }
            else
            {
                <a href="/query/showdata?search=@ViewBag.search&sortColumn=Available&iconClass=fa-sort-desc">Available</a>
                if (ViewBag.sortColumn == "Available")
                {
                    <i class="fa @ViewBag.iconClass"></i>
                }
            }
        </th>
    </tr>
    @foreach (var item in Model)
    {
        <tr>
            <td>@item.PartNumber</td>
            <td>@item.Customer</td>
            <td>@item.Building</td>
            <td>@item.Available.ToString()</td>
        </tr>
    }
</table>

@if (Model.Count != 0)
{
    <div class="text-center">
        <form method="post" action="/query/exporttocsv">
            <input type="submit" class="btn btn-primary" value="Export to CSV" />
        </form>
    </div>
}